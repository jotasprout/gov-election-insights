function mapLoadComplete(){}Modernizr.addTest("canresizesvg",function(){var a=document.createElement("div");a.style.visibility="hidden",a.style.position="fixed",a.style.backgroundColor="red";var b=300;if(void 0!==document.createElementNS){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("version","1.1"),c.setAttribute("viewBox","0 0 100 100"),c.setAttribute("preserveAspectRatio","xMinYMin meet"),c.setAttribute("id","svg-test"),a.appendChild(c),document.getElementsByClassName("super")[0].appendChild(a),b=document.getElementById("svg-test").getBoundingClientRect().width}return a.parentNode.removeChild(a),300!==b}),function(a,b,c,d,e,f,g){"use strict";PoliticoMapsManager=function(){function c(){var c=this;c.maps=b.maps,d3.select("html").on(a.events.end,function(){var a=0;for(a;a<c.maps.length;a++)c.maps[a].hidePopup(!1)})}return b.maps=[],c}(),PoliticoMapsManager.prototype.create=function(a){var b=this;doDebug(b)},PoliticoMapsManager.prototype.add=function(a){this.maps.push(a)},PoliticoMapsManager.prototype.get=function(a){var b=this;if(b.maps.hasOwnProperty(a))return b.maps[a]},PoliticoMapsManager.prototype.resize=function(){var a=this,b=0,c=a.maps.length;for(b;b<c;b++)a.maps[b].resize()},PoliticoMapsManager.prototype.movePopup=function(){var a=this,b=0,c=a.maps.length;for(b;b<c;b++)a.maps[b].movePopup()},PoliticoMapsManager.prototype.deepExtend=function(a,b,c){a=a||{};var d,e=[b,c],f=0;for(f;f<e.length;f++)if(void 0!==(d=e[f]))for(var g in d)d.hasOwnProperty(g)&&("object"==typeof d[g]?a[g]=this.deepExtend(a[g],d[g]):a[g]=d[g]);return a},PoliticoMapsManager.prototype.dispatchEvent=function(a,b){try{var c=new e.CustomEvent(a,b)}catch(d){var c=f.createEvent("CustomEvent");void 0!==b&&(b=b.detail),c.initCustomEvent(a,!0,!0,b)}f.dispatchEvent(c)},PoliticoMapsManager.prototype.doDebug=function(a,b){this.dispatchEvent("debug",{detail:{type:"MAP: "+a,debug:b}})},PoliticoMapPopup=function(){function b(b){this.options={elems:{popup:void 0!==b?b:a.defaultOptions.elems.popup},mouseXY:{x:0,y:0}}}return b}(),PoliticoMapPopup.prototype.setMouseXY=function(a,b){var c=this;c.options.mouseXY.x=a,c.options.mouseXY.y=b},PoliticoMapPopup.prototype.hide=function(b){var c=this,d=d3.select(c.options.elems.popup);d.select(".close").on(a.events.end,null),d.on(a.events.end,null),d.classed("is-active",!1).html(""),b||c.dispatchEvent("popupHide")},PoliticoMapPopup.prototype.show=function(b){var c=this,d=d3.select(c.options.elems.popup);d.classed("is-active",!0).html(b),c.movePopup(),d.select(".close").on(a.events.end,function(){d3.event.stopPropagation(),c.hide()}),d.on(a.events.end,function(){d3.event.stopPropagation()})},PoliticoMapPopup.prototype.movePopup=function(){var a=this,b=d3.select(a.options.elems.popup);if(null!==b.node()){var c={top:1,left:1,right:1,bottom:1},d={right:1,left:1,below:1,above:1},e=b.node().getBoundingClientRect(),f=b.node().parentNode.getBoundingClientRect(),g={width:Math.min(e.width/f.width*100),height:Math.min(e.height/f.height*100)},h=0,i=0,j=a.options.mouseXY.x,k=a.options.mouseXY.y,l=j+d.right+g.width,m=j-d.left-g.width,n=k+d.below+g.height,o=k-d.above-g.height;h=g.width<100-c.right?l<100-c.right?j+d.right:m>0+c.left?j-g.width-d.left:(100-g.width)/2:0,i=g.height<100-c.bottom?n<100-c.bottom?k+d.below:o>0+c.top?k-g.height-d.above:(100-g.height)/2:(100-g.height)/2,b.style("left",h+"%").style("top",i+"%")}},PoliticoMapPopup.prototype.dispatchEvent=function(a,b){try{var c=new e.CustomEvent(a,b)}catch(d){var c=f.createEvent("CustomEvent");void 0!==b&&(b=b.detail),c.initCustomEvent(a,!0,!0,b)}f.dispatchEvent(c)},PoliticoMapPopup.prototype.doDebug=function(a,b){this.dispatchEvent("debug",{detail:{type:"POPUP: "+a,debug:b}})},PoliticoMap=function(){function b(b,c,d){var e=this;b=b||{},e.instanceNum=a.instanceNum++,e.options=a.mapsManager.deepExtend({},a.defaultOptions,b),e.options.config.defaultViewBox=a.getViewBox(e.options.config.shortcuts,e.options.config.defaultDimensions),e.options.initDimensions=a.getInitDimensions(e.options.config.defaultViewBox,e.options.config.shortcuts,a.stateAbbsShortcuts),void 0!==c&&(e.options.elems.map=c),void 0!==d&&(e.options.elems.popup=d),e.options.popup=new PoliticoMapPopup(d),e.options.functionality.allowClick=e.options.functionality.mapClickable.state||e.options.functionality.mapClickable.district||e.options.functionality.mapClickable.county,a.mapsManager.doDebug("PoliticoMap Constructor",e),e.states=[],e.stateShortcuts=[],e.districts=[],e.districtsAtLarge=[],e.counties=[],e.labels=[],e.stateVectors=[],e.districtVectors=[],e.stateVectorsDetailed=[],e.districtVectorsDetailed=[],e.countyVectorsDetailed=[],a.isSVG&&e.init()}a.getViewBox=function(a,b){return{width:b.width+(a.show?b.width/100*a.width+b.width/100*a.paddingLeft:0),height:b.height,x:b.x,y:b.y,scale:b.scale}},a.getInitDimensions=function(a,b,c){return{viewBoxWidth:a.width,viewBoxHeight:a.height,x:a.x,y:a.y,scale:a.scale,stateShortcuts:{x:100-b.width,width:b.width,height:(100-b.paddingTop-b.paddingBottom-b.paddingBetween*(c.length-1))/c.length,initY:b.paddingTop,padding:b.paddingBetween,roundCorner:b.roundCorner}}},a.instanceNum=0,a.isSVG="undefined"==typeof Modernizr||Modernizr.svg,a.isTouch="undefined"!=typeof Modernizr&&Modernizr.touch,a.canResizeSVG=Modernizr.canresizesvg,a._config={},a._config.shortcuts={show:!0,width:5,paddingLeft:2.5,paddingTop:5,paddingBottom:10,paddingBetween:.1,roundCorner:.5},a._config.defaultWidthHeight={width:1160,height:726},a._config.defaultDimensions={width:a._config.defaultWidthHeight.width,height:a._config.defaultWidthHeight.height,x:a._config.defaultWidthHeight.width/2+7,y:a._config.defaultWidthHeight.height/2-3,scale:1585},a._config.labelPositions={AK:{x:0,y:-10},FL:{x:20,y:0},MI:{x:10,y:20},NY:{x:10,y:0},LA:{x:-12,y:-10},CA:{x:-15,y:0},WV:{x:-5,y:0},HI:{x:-50,y:5}},a.events={start:a.isTouch?"touchstart":"mousedown",move:a.isTouch?"touchmove":"mousemove",end:a.isTouch?"touchend":"mouseup"},a.stateAbbs=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],a.stateAbbsFIPS={"01":"AL","02":"AK","04":"AZ","05":"AR","06":"CA","08":"CO","09":"CT",10:"DE",11:"DC",12:"FL",13:"GA",15:"HI",16:"ID",17:"IL",18:"IN",19:"IA",20:"KS",21:"KY",22:"LA",23:"ME",24:"MD",25:"MA",26:"MI",27:"MN",28:"MS",29:"MO",30:"MT",31:"NE",32:"NV",33:"NH",34:"NJ",35:"NM",36:"NY",37:"NC",38:"ND",39:"OH",40:"OK",41:"OR",42:"PA",44:"RI",45:"SC",46:"SD",47:"TN",48:"TX",49:"UT",50:"VT",51:"VA",53:"WA",54:"WV",55:"WI",56:"WY"},a.statesInfo={AL:{name:"Alabama",apabb:"Ala.",postalabb:"AL",atLarge:!1,fips:"01"},AK:{name:"Alaska",apabb:"Alaska",postalabb:"AK",atLarge:!0,fips:"02"},AZ:{name:"Arizona",apabb:"Ariz.",postalabb:"AZ",atLarge:!1,fips:"04"},AR:{name:"Arkansas",apabb:"Ark.",postalabb:"AR",atLarge:!1,fips:"05"},CA:{name:"California",apabb:"Calif.",postalabb:"CA",atLarge:!1,fips:"06"},CO:{name:"Colorado",apabb:"Colo.",postalabb:"CO",atLarge:!1,fips:"08"},CT:{name:"Connecticut",apabb:"Conn.",postalabb:"CT",atLarge:!1,fips:"09"},DE:{name:"Delaware",apabb:"Del.",postalabb:"DE",atLarge:!0,fips:"10"},DC:{name:"District of Columbia",apabb:"D.C.",postalabb:"DC",atLarge:!0,fips:"11"},FL:{name:"Florida",apabb:"Fla.",postalabb:"FL",atLarge:!1,fips:"12"},GA:{name:"Georgia",apabb:"Ga.",postalabb:"GA",atLarge:!1,fips:"13"},HI:{name:"Hawaii",apabb:"Hawaii",postalabb:"HI",atLarge:!1,fips:"15"},ID:{name:"Idaho",apabb:"Idaho",postalabb:"ID",atLarge:!1,fips:"16"},IL:{name:"Illinois",apabb:"Ill.",postalabb:"IL",atLarge:!1,fips:"17"},IN:{name:"Indiana",apabb:"Ind.",postalabb:"IN",atLarge:!1,fips:"18"},IA:{name:"Iowa",apabb:"Iowa",postalabb:"IA",atLarge:!1,fips:"19"},KS:{name:"Kansas",apabb:"Kan.",postalabb:"KS",atLarge:!1,fips:"20"},KY:{name:"Kentucky",apabb:"Ky.",postalabb:"KY",atLarge:!1,fips:"21"},LA:{name:"Louisiana",apabb:"La.",postalabb:"LA",atLarge:!1,fips:"22"},ME:{name:"Maine",apabb:"Maine",postalabb:"ME",atLarge:!1,fips:"23"},MD:{name:"Maryland",apabb:"Md.",postalabb:"MD",atLarge:!1,fips:"24"},MA:{name:"Massachusetts",apabb:"Mass.",postalabb:"MA",atLarge:!1,fips:"25"},MI:{name:"Michigan",apabb:"Mich.",postalabb:"MI",atLarge:!1,fips:"26"},MN:{name:"Minnesota",apabb:"Minn.",postalabb:"MN",atLarge:!1,fips:"27"},MS:{name:"Mississippi",apabb:"Miss.",postalabb:"MS",atLarge:!1,fips:"28"},MO:{name:"Missouri",apabb:"Mo.",postalabb:"MO",atLarge:!1,fips:"29"},MT:{name:"Montana",apabb:"Mont.",postalabb:"MT",atLarge:!0,fips:"30"},NE:{name:"Nebraska",apabb:"Neb.",postalabb:"NE",atLarge:!1,fips:"31"},NV:{name:"Nevada",apabb:"Nev.",postalabb:"NV",atLarge:!1,fips:"32"},NH:{name:"New Hampshire",apabb:"N.H.",postalabb:"NH",atLarge:!1,fips:"33"},NJ:{name:"New Jersey",apabb:"N.J.",postalabb:"NJ",atLarge:!1,fips:"34"},NM:{name:"New Mexico",apabb:"N.M.",postalabb:"NM",atLarge:!1,fips:"35"},NY:{name:"New York",apabb:"N.Y.",postalabb:"NY",atLarge:!1,fips:"36"},NC:{name:"North Carolina",apabb:"N.C.",postalabb:"NC",atLarge:!1,fips:"37"},ND:{name:"North Dakota",apabb:"N.D.",postalabb:"ND",atLarge:!0,fips:"38"},OH:{name:"Ohio",apabb:"Ohio",postalabb:"OH",atLarge:!1,fips:"39"},OK:{name:"Oklahoma",apabb:"Okla.",postalabb:"OK",atLarge:!1,fips:"40"},OR:{name:"Oregon",apabb:"Ore.",postalabb:"OR",atLarge:!1,fips:"41"},PA:{name:"Pennsylvania",apabb:"Pa.",postalabb:"PA",atLarge:!1,fips:"42"},RI:{name:"Rhode Island",apabb:"R.I.",postalabb:"RI",atLarge:!1,fips:"44"},SC:{name:"South Carolina",apabb:"S.C.",postalabb:"SC",atLarge:!1,fips:"45"},SD:{name:"South Dakota",apabb:"S.D.",postalabb:"SD",atLarge:!0,fips:"46"},TN:{name:"Tennessee",apabb:"Tenn.",postalabb:"TN",atLarge:!1,fips:"47"},TX:{name:"Texas",apabb:"Texas",postalabb:"TX",atLarge:!1,fips:"48"},UT:{name:"Utah",apabb:"Utah",postalabb:"UT",atLarge:!1,fips:"49"},VT:{name:"Vermont",apabb:"Vt.",postalabb:"VT",atLarge:!0,fips:"50"},VA:{name:"Virginia",apabb:"Va.",postalabb:"VA",atLarge:!1,fips:"51"},WA:{name:"Washington",apabb:"Wash.",postalabb:"WA",atLarge:!1,fips:"53"},WV:{name:"West Virginia",apabb:"W.Va.",postalabb:"WV",atLarge:!1,fips:"54"},WI:{name:"Wisconsin",apabb:"Wis.",postalabb:"WI",atLarge:!1,fips:"55"},WY:{name:"Wyoming",apabb:"Wyo.",postalabb:"WY",atLarge:!0,fips:"56"}},a.stateAbbsAtLarge=["AK","DC","DE","MT","ND","SD","VT","WY"],a.stateAbbsShortcuts=["ME","NH","VT","MA","RI","CT","NJ","DE","MD","DC"],a.stateAbbsShortcutDimensions={},a.defaultOptions={config:a._config,elems:{map:".map-object",popup:".tooltip"},vectorfiles:{baseURL:"/mapdata/vectors/2016/",detailedSubunitsPath:"",nationalStates:"US_states.json",nationalDistricts:"US_districts.json",version:"",cacheBust:""},functionality:{detailedSubunits:"",showNationalDistricts:!1,showOnInit:!0,showLabels:!0,mapClickable:{state:!0,district:!0,county:!0},allowClick:!0,maxScale:130,animationDuration:250,noDataClick:{state:!1,district:!1,county:!1}},css:{groupOrder:["subunits","states","selectedStates","selectedSubunits","shortcuts","labels"],scale:1,paddingZoomed:.9,state:{0:"no-data",1:"has-data"},default:{"no-data":"no-data","has-data":"has-data",selected:"selected",deselected:"deselected",none:"none"},strokeWidth:{state:1,stateOver:1,selectedState:1,selectedStateOver:1,subunit:.5,subunitOver:.5,clickedSubunit:.5,clickedSubunitOver:.5,stateShortcut:1},values:{}},data:{type:"value",values:{}},selected:{stateAbb:"",fips:"",type:"",enabled:!1}};var c,f=0,g=a.stateAbbsShortcuts.length;for(f;f<g;f++)c=a.stateAbbsShortcuts[f],a.statesInfo[c].isShortcut=!0,a.stateAbbsShortcutDimensions[c]={index:f};return a.mapsManager=new PoliticoMapsManager,void 0!==d&&d(e).on("debouncedresize",function(){a.mapsManager.resize()}),b}(),PoliticoMap.prototype.init=function(){var b=this;a.mapsManager.add(b);var c=d3.select(b.options.elems.map);c.select(function(){return this.parentNode}).classed("has-spinner",!0);var d=d3.geo.albersUsa().scale(b.options.initDimensions.scale).translate([b.options.initDimensions.x,b.options.initDimensions.y]);b.path=d3.geo.path().projection(d);var e=c.append("svg").attr("version","1.1").attr("viewBox","0 0 "+b.options.initDimensions.viewBoxWidth+" "+b.options.initDimensions.viewBoxHeight).attr("preserveAspectRatio","xMinYMin meet").attr("class","ROOT");a.canResizeSVG?c.classed("is-hidden",!0):e.attr("x","0px").attr("y","0px").attr("width",b.options.initDimensions.viewBoxWidth+"px").attr("height",b.options.initDimensions.viewBoxHeight+"px");var f=b.options.vectorfiles.baseURL+b.options.vectorfiles.nationalStates+"?"+b.options.vectorfiles.cacheBust;(b.options.functionality.showNationalDistricts||b.options.functionality.loadNationalDistricts)&&(f=b.options.vectorfiles.baseURL+b.options.vectorfiles.nationalDistricts+"?"+b.options.vectorfiles.cacheBust);var g;e=e.append("g").classed("transform",!0);for(g in b.options.css.groupOrder)e.append("g").classed(b.options.css.groupOrder[g],!0);if(d3.json(f,function(c,d){if(d.objects.state){b.stateVectors=topojson.feature(d,d.objects.state).features;var f=b.stateVectors.filter(function(b,c){var d=b.properties.FIPS,e=a.stateAbbsFIPS[d];return!0===a.statesInfo[e].isShortcut});b.states=e.select(".states").selectAll("path").data(b.stateVectors),b.stateShortcuts=e.select(".shortcuts").selectAll("rect").data(f),b.options.functionality.showLabels&&(b.labels=e.select(".labels").selectAll("text").data(b.stateVectors)),b.initStates(),b.initStateShortcuts(),b.options.functionality.showLabels&&b.initLabels()}if(d.objects.district&&(b.districtVectors=topojson.feature(d,d.objects.district).features),b.options.functionality.showNationalDistricts){b.districts=e.select(".subunits").selectAll("path").data(b.districtVectors);var g=b.stateVectors.filter(function(b,c){var d=b.properties.FIPS,e=a.stateAbbsFIPS[d];return a.statesInfo[e].atLarge});b.districtsAtLarge=e.select(".subunits").selectAll("path").data(g),b.initDistricts()}if(""!=b.options.selected.stateAbb){var h=function(){var a,c,d,f=b.options.selected.stateAbb+"_"+b.options.selected.fips;"state"==b.options.selected.type?(b.zoomToStateAbb(b.options.selected.stateAbb,!1),""!=b.options.functionality.detailedSubunits&&b.queue.add(b.loadDetails,b)):"district"==b.options.selected.type&&(a=e.select(".subunits").selectAll("."+f),c=a.node(),d=a.datum(),b.districtClicked(c,d))};b.queue.add(h,b)}b.queue.add(function(){b.initComplete()},b)}),b.options.functionality.allowClick&&(e.on(a.events.start,function(){b.options.isDragging=!1}),e.on(a.events.move,function(){b.options.isDragging=!0}),e.on(a.events.end,function(){if(!b.options.isDragging){d3.event.preventDefault(),d3.event.stopPropagation();var a=d3.mouse(d3.select(b.options.elems.map).select("svg").node()),c=Math.min(a[0]/b.options.initDimensions.viewBoxWidth*100),d=Math.min(a[1]/b.options.initDimensions.viewBoxHeight*100);b.options.popup.setMouseXY(c,d);var e=d3.select(d3.event.target);if(!e.classed("ROOT")){var f=e.datum();b.options.selected={enabled:e.classed("enabled"),type:e.classed("state")?"state":f.properties.type,stateAbb:f.properties.stateAbb,fips:f.properties.CONG_DIST||f.properties.FIPS},"state-shortcut"==b.options.selected.type?b.stateClicked(d3.event.target,f):"state"==b.options.selected.type?b.stateClicked(d3.event.target,f):"county"==b.options.selected.type?b.countyClicked(d3.event.target,f):"district"==b.options.selected.type&&b.districtClicked(d3.event.target,f)}}})),a.isTouch||e.on("mouseout",function(){var a=d3.select(d3.event.target),c=a.datum();b.doMouseOut(a,c)}).on("mouseover",function(){var c,d=1,e=d3.select(d3.event.target),f=e.datum();void 0!==f&&(e.classed("ROOT")||(c=e.classed("state")?"state":f.properties.type,d="state"==c?e.classed("selected")?b.options.css.strokeWidth.selectedStateOver:b.options.css.strokeWidth.stateOver:"state-shortcut"==c?e.classed("selected")?b.options.css.strokeWidth.selectedStateOver:b.options.css.strokeWidth.stateOver:e.classed("clicked")?b.options.css.strokeWidth.clickedSubunitOver:b.options.css.strokeWidth.subunitOver,e.classed("hover",!0).style("stroke-width",d/b.options.css.scale+"px"),a.canResizeSVG&&(e.toFront(),d3.select(b.options.elems.map).select(".clicked").toFront())))}),d3.select(".zoom-out").on(a.events.end,function(){b.zoomOut()}),!a.canResizeSVG){var h=function(){b.resize()};b.queue.add(h,b)}},PoliticoMap.prototype.resize=function(){var b=this;if(!a.canResizeSVG){var c=d3.select(b.options.elems.map),d=c.select("svg"),e=c.node().getBoundingClientRect().width,f=b.options.initDimensions.viewBoxWidth/b.options.initDimensions.viewBoxHeight,g=e/f;d.attr("width",e+"px"),d.attr("height",g+"px")}a.mapsManager.movePopup()},PoliticoMap.prototype.stateClicked=function(a,b){var c=this;d3.select(a).classed("enabled")?c.enabledStateClicked(a,b):d3.select(a).classed("no-data")?c.noDataStateClicked(a,b):c.doStateClicked(a,b)},PoliticoMap.prototype.districtClicked=function(a,b){var c=this;d3.select(a).classed("enabled")?c.enabledDistrictClicked(a,b):d3.select(a).classed("no-data")?c.noDataDistrictClicked(a,b):c.doDistrictClicked(a,b)},PoliticoMap.prototype.countyClicked=function(a,b){var c=this;d3.select(a).classed("enabled")?c.enabledCountyClicked(a,b):d3.select(a).classed("no-data")?c.noDataCountyClicked(a,b):c.doCountyClicked(a,b)},PoliticoMap.prototype.doStateClicked=function(a,b){var c=this;c.zoomToBounds(c.path.bounds(b))},PoliticoMap.prototype.doDistrictClicked=function(a,b){},PoliticoMap.prototype.doCountyClicked=function(a,b){},PoliticoMap.prototype.zoomToDistrict=function(a,b){var c=this,d=d3.select("."+a+"_"+b+":not(.state-shortcut)").datum();c.zoomToBounds(c.path.bounds(d))},PoliticoMap.prototype.zoomToStateAbb=function(a,b){var c=this;b="boolean"==typeof b&&b,a=void 0!==a?a:c.options.selected.state;var d=d3.select(c.options.elems.map).select("svg"),e=d.select("."+a+"_0:not(.state-shortcut)").datum();c.zoomToBounds(c.path.bounds(e),b)},PoliticoMap.prototype.zoomToBounds=function(b,c){var d=this,e=!c||a.isTouch?0:d.options.functionality.animationDuration,f=d.options.css.paddingZoomed,g=b[1][0]-b[0][0],h=b[1][1]-b[0][1],i=(b[0][0]+b[1][0])/2,j=(b[0][1]+b[1][1])/2,k=f/Math.max(g/d.options.initDimensions.viewBoxWidth,h/d.options.initDimensions.viewBoxHeight);d.options.css.scale=k>d.options.functionality.maxScale?d.options.functionality.maxScale:k;var l=[d.options.initDimensions.viewBoxWidth/2-d.options.css.scale*i,d.options.initDimensions.viewBoxHeight/2-d.options.css.scale*j],m=d3.select(d.options.elems.map).select("svg");m.select("g.transform").transition().duration(e).attr("transform","translate("+l+") scale("+d.options.css.scale+")"),m.classed("zoom",!0),d.options.functionality.showLabels&&(m.select(".labels").style("display","none"),m.select(".labels").style("font-size",1.5/d.options.css.scale+"em"),m.selectAll(".labels").transition().delay(e).style("display","block")),m.selectAll(".state-shortcut").classed("is-hidden",!0),""==d.options.functionality.detailedSubunits?d.queue.add(d.zoomComplete,d):d.queue.add(d.applyStrokeWidth,d)},PoliticoMap.prototype.zoomComplete=function(){var b=this,c=d3.select(b.options.elems.map).select("svg"),d=b.options.selected.stateAbb,e=function(){b.options.functionality.showLabels?(c.selectAll(".labels .selected").classed("selected",!1),c.selectAll(".labels").classed("is-hidden",!1)):(c.selectAll(".labels .selected").classed("selected",!1),c.selectAll(".labels").classed("is-hidden",!0)),c.selectAll(".selectedStates .selected").toNode(c.selectAll(".states").classed("selected",!1)),c.selectAll(".selectedSubunits .selected").toNode(c.selectAll(".subunits").classed("selected",!1)),""!==d&&(b.options.functionality.showLabels?(c.selectAll(".labels ."+d).classed("selected",!0),c.selectAll(".labels").classed("is-hidden",!1)):(c.selectAll(".labels .selected").classed("selected",!1),c.selectAll(".labels").classed("is-hidden",!0)),c.selectAll(".states ."+d+"_0").classed("selected",!0),c.selectAll(".subunits ."+d).classed("selected",!0)),c.selectAll(".states .selected").toNode(c.selectAll(".selectedStates")),c.selectAll(".subunits .selected").toNode(c.selectAll(".selectedSubunits")),b.applyStrokeWidth(),"AK"==d?(c.selectAll(".HI").classed("is-hidden",!0),c.selectAll(".AK").classed("is-hidden",!1)):"HI"==d?(c.selectAll(".AK").classed("is-hidden",!0),c.selectAll(".HI").classed("is-hidden",!1)):"TX"==d&&c.selectAll(".HI").classed("is-hidden",!0),a.mapsManager.dispatchEvent("zoomComplete")};b.queue.add(e,b)},PoliticoMap.prototype.zoomOut=function(){var b=this,c=a.isTouch?0:b.options.functionality.animationDuration,d=d3.select(b.options.elems.map).select("svg");b.options.selected={type:"",stateAbb:"",fips:"",enabled:""},b.options.css.scale=1;var e=function(){if(d.selectAll("g").transition().duration(c).attr("transform","translate(0,0)scale("+b.options.css.scale+")"),d.selectAll(".county").style("stroke-width",b.options.css.strokeWidth.subunit+"px"),d.selectAll(".district").style("stroke-width",b.options.css.strokeWidth.subunit+"px"),d.selectAll(".state:not(.state-shortcut)").style("stroke-width",b.options.css.strokeWidth.state+"px"),d.selectAll(".AK").classed("is-hidden",!1),d.selectAll(".HI").classed("is-hidden",!1),b.options.functionality.showNationalDistricts)d.selectAll(".selectedStates .selected").toNode(d.selectAll(".states").classed("selected",!1)),d.selectAll(".selectedSubunits .selected").toNode(d.selectAll(".subunits").classed("selected",!1));else{d.select(".states").selectAll("path").remove(),d.select(".selectedStates").selectAll("path").remove(),d.select(".subunits").selectAll("path").remove(),d.select(".selectedSubunits").selectAll("path").remove();var a=function(){b.states=d.select(".states").selectAll("path").data(b.stateVectors),b.initStates()};b.queue.add(a,b)}d.classed("zoom",!1),b.options.functionality.showLabels&&(d.select(".labels").style("display","none"),d.selectAll(".labels .selected").classed("selected",!1),d.select(".labels").style("font-size","1em"),d.select(".labels").transition().delay(c).style("display","block")),b.options.config.shortcuts.show&&d.selectAll(".state-shortcut").transition().delay(c).style("display","block")};b.queue.add(e,b)},PoliticoMap.prototype.applyStrokeWidth=function(){var a=this,b=d3.select(a.options.elems.map).select("svg");b.selectAll(".county").style("stroke-width",a.options.css.strokeWidth.subunit/a.options.css.scale+"px"),b.selectAll(".district").style("stroke-width",a.options.css.strokeWidth.subunit/a.options.css.scale+"px"),b.selectAll(".states .state:not(.state-shortcut)").style("stroke-width",a.options.css.strokeWidth.state/a.options.css.scale+"px"),b.selectAll(".selectedStates .state.selected").style("stroke-width",a.options.css.strokeWidth.selectedState/a.options.css.scale+"px")},PoliticoMap.prototype.setSelected=function(a){this.options.selected={type:a.type,stateAbb:a.stateAbb,fips:a.fips,enabled:a.enabled}},PoliticoMap.prototype.setOptions=function(b){var c=this;c.options=a.mapsManager.deepExtend({},c.options,b),c.options.popup=new PoliticoMapPopup(c.options.elems.popup)},PoliticoMap.prototype.gotoAndLoadDetailedStateAbb=function(a){var b=this;""!=b.options.functionality.detailedSubunits&&(b.options.selected.stateAbb=a,b.queue.add(b.loadDetails,b))},PoliticoMap.prototype.refreshShortcuts=function(){var a=this;a.stateShortcuts.attr("class",function(b,c){var d=b.properties.stateAbb,e=d+"_0",f=a.getDataClass(d,0),g=d+" "+e+" state state-shortcut";return a.options.config.shortcuts.show?g+=""!=f?" enabled "+f:" no-data"+(a.options.functionality.noDataClick.state?"":" disabled"):g+=" is-hidden",g})},PoliticoMap.prototype.refreshDimensions=function(){var b=this,c=d3.select(b.options.elems.map).select("svg");b.options.config.defaultViewBox=a.getViewBox(b.options.config.shortcuts,b.options.config.defaultDimensions),b.options.initDimensions=a.getInitDimensions(b.options.config.defaultViewBox,b.options.config.shortcuts,a.stateAbbsShortcuts);var d=d3.select(b.options.elems.map),e=d3.geo.albersUsa().scale(b.options.initDimensions.scale).translate([b.options.initDimensions.x,b.options.initDimensions.y]);b.path=d3.geo.path().projection(e);var c=d.select("svg").attr("viewBox","0 0 "+b.options.initDimensions.viewBoxWidth+" "+b.options.initDimensions.viewBoxHeight);a.canResizeSVG||c.attr("x","0px").attr("y","0px").attr("width",b.options.initDimensions.viewBoxWidth+"px").attr("height",b.options.initDimensions.viewBoxHeight+"px")},PoliticoMap.prototype.refreshVectors=function(b,c){var d=this,e=d3.select(d.options.elems.map).select("svg");if(""!=d.options.functionality.detailedSubunits){if(""==b||"US"==b){e.classed("national-districts",!0),e.select(".states").selectAll("path").remove(),e.select(".selectedStates").selectAll("path").remove(),d.districts=e.select(".subunits").selectAll("path").data(d.districtVectors);var f=d.stateVectors.filter(function(b,c){var d=b.properties.FIPS,e=a.stateAbbsFIPS[d];return a.statesInfo[e].atLarge});d.districtsAtLarge=e.select(".subunits").selectAll("path").data(f);var g=function(){d.states=e.select(".states").selectAll("path").data(d.stateVectors),d.initStates()};d.queue.add(g,d),d.queue.add(d.initDistricts,d),d.queue.add(d.zoomComplete,d)}}else{e.classed("national-districts",!1),e.select(".states").selectAll("path").remove(),e.select(".selectedStates").selectAll("path").remove(),e.select(".subunits").selectAll("path").remove(),e.select(".selectedSubunits").selectAll("path").remove();var g=function(){d.states=e.select(".states").selectAll("path").data(d.stateVectors),d.initStates()};d.queue.add(g,d),d.queue.add(d.zoomComplete,d)}c&&d.queue.add(d.refreshDimensions,d)},PoliticoMap.prototype.enabledStateClicked=function(a,b){var c=this;c.options.hasOwnProperty("enabledStateClicked")&&c.options.enabledStateClicked(a)},PoliticoMap.prototype.noDataStateClicked=function(a,b){var c=this;void 0!==c.options.noDataStateClicked&&c.options.noDataStateClicked(a)},PoliticoMap.prototype.enabledDistrictClicked=function(b,c){var d=this;d.options.hasOwnProperty("enabledDistrictClicked")?d.options.enabledDistrictClicked(b):a.mapsManager.doDebug("Enabled District Clicked")},PoliticoMap.prototype.noDataDistrictClicked=function(a,b){var c=this;c.options.hasOwnProperty("noDataDistrictClicked")&&c.options.noDataStateClicked(a)},PoliticoMap.prototype.enabledCountyClicked=function(b,c){var d=this;d.options.hasOwnProperty("enabledCountyClicked")?d.options.enabledCountyClicked(b):a.mapsManager.doDebug("Enabled County Clicked")},PoliticoMap.prototype.noDataCountyClicked=function(a,b){var c=this;c.options.hasOwnProperty("noDataCountyClicked")&&c.options.noDataCountyClicked(a)},PoliticoMap.prototype.selectState=function(a){var b=this;b.options.hasOwnProperty("selectState")&&b.options.selectState(a)},PoliticoMap.prototype.deselectState=function(a){var b=this;b.options.hasOwnProperty("deselectState")&&b.options.deselectState(a)},PoliticoMap.prototype.enableState=function(a){var b=this;b.options.hasOwnProperty("enableState")&&b.options.enableState(a)},PoliticoMap.prototype.disableState=function(a){},PoliticoMap.prototype.initComplete=function(){var b=this;b.options.functionality.showOnInit&&b.queue.add(function(){b.show()},b),a.mapsManager.dispatchEvent("initComplete",{detail:{value:"map"}})},PoliticoMap.prototype.loadDetails=function(){var b=this,c=d3.select(b.options.elems.map).select("svg");d3.json(b.options.vectorfiles.baseURL+b.options.vectorfiles.detailedSubunitsPath+b.options.selected.stateAbb+"_"+b.options.functionality.detailedSubunits+(""!==b.options.vectorfiles.version?"_"+b.options.vectorfiles.version:"")+".json?"+b.options.vectorfiles.cacheBust,function(d,e){e.objects.hasOwnProperty("state")?b.stateVectorsDetailed=topojson.feature(e,e.objects.state).features:b.stateVectorsDetailed=[],e.objects.hasOwnProperty("district")?b.districtVectorsDetailed=topojson.feature(e,e.objects.district).features:b.districtVectorsDetailed=b.stateVectorsDetailed.filter(function(c){return c.properties.FIPS==a.statesInfo[b.options.selected.stateAbb].fips}),e.objects.hasOwnProperty("county")&&"counties"==b.options.functionality.detailedSubunits?b.countyVectorsDetailed=topojson.feature(e,e.objects.county).features:b.stateVectorsDetailed.length>0?b.countyVectorsDetailed=b.stateVectorsDetailed.filter(function(c){return c.properties.FIPS==a.statesInfo[b.options.selected.stateAbb].fips}):b.countyVectorsDetailed=[];var f=function(){c.select(".states").selectAll("path").remove(),c.select(".selectedStates").selectAll("path").remove(),b.states=c.select(".states").selectAll("path").data(b.stateVectorsDetailed),b.initStates()};if(b.queue.add(f,b),"districts"==b.options.functionality.detailedSubunits){var g=function(){c.select(".subunits").selectAll("path").remove(),c.select(".selectedSubunits").selectAll("path").remove(),b.districts=c.select(".subunits").selectAll("path").data(b.districtVectorsDetailed),b.initDistricts(),b.queue.add(b.zoomComplete,b)};b.queue.add(g,b)}else if("counties"==b.options.functionality.detailedSubunits){var h=function(){c.select(".subunits").selectAll("path").remove(),c.select(".selectedSubunits").selectAll("path").remove(),b.counties=c.select(".subunits").selectAll("path").data(b.countyVectorsDetailed),b.initCounties(),b.queue.add(b.zoomComplete,b)};b.queue.add(h,b)}})},PoliticoMap.prototype.initLabels=function(){var b=this,c=function(){b.labels.enter().append("text").attr("class",function(c,d){var e=a.stateAbbsFIPS[c.properties.FIPS],f=c.properties.FIPS+" "+e+" state";return void 0!==a.statesInfo[e].isShortcut&&(f+=" state-shortcut",b.options.config.shortcuts.show||(f+=" is-hidden")),f}).attr("transform",function(c,d){var e=a.stateAbbsFIPS[c.properties.FIPS];if(void 0===a.statesInfo[e].isShortcut){var f=b.path.centroid(c);return b.options.config.labelPositions.hasOwnProperty(e)&&(f[0]+=b.options.config.labelPositions[e].x,f[1]+=b.options.config.labelPositions[e].y),"translate("+f+")"}}).attr("x",function(b,c){var d=a.stateAbbsFIPS[b.properties.FIPS];if(void 0!==a.statesInfo[d].isShortcut){return a.stateAbbsShortcutDimensions[d].x+"%"}}).attr("y",function(b,c){var d=a.stateAbbsFIPS[b.properties.FIPS];if(void 0!==a.statesInfo[d].isShortcut){return a.stateAbbsShortcutDimensions[d].y+"%"}}).attr("dx",function(b,c){var d=a.stateAbbsFIPS[b.properties.FIPS];if(void 0!==a.statesInfo[d].isShortcut)return"2.5%"}).attr("dy",function(b,c){var d=a.stateAbbsFIPS[b.properties.FIPS];return void 0===a.statesInfo[d].isShortcut?".5%":a.stateAbbsShortcutDimensions[d].height/2+"%"}).text(function(b,c){var d=a.stateAbbsFIPS[b.properties.FIPS];return a.statesInfo[d].apabb})};b.queue.add(c,b)},PoliticoMap.prototype.initStates=function(){var b=this,c=function(){b.states.enter().append("path").attr("d",b.path).attr("class",function(c,d){var e=c.properties.FIPS,f=a.stateAbbsFIPS[e],g=f+"_0";c.properties.stateAbb=f,c.properties.type="state",b.options.data.values.hasOwnProperty(f)||(b.options.data.values[f]={});var h=b.getDataClass(f,0),i=f+" "+g+" state";return i+=""!=h?" enabled":" no-data"+(b.options.functionality.noDataClick.state?"":" disabled"),a.statesInfo[f].atLarge&&(i+=" at-large"),b.options.selected.stateAbb==f&&(i+=" selected"),i}).style("stroke-width",b.options.css.strokeWidth.state/b.options.css.scale+"px")};b.queue.add(c,b),b.options.functionality.showNationalDistricts&&d3.select(b.options.elems.map).select("svg").classed("national-districts",!0)},PoliticoMap.prototype.initStateShortcuts=function(){var b=this,c=function(){b.stateShortcuts.enter().append("rect").attr("x",function(c,d){var e=a.stateAbbsFIPS[c.properties.FIPS],f=b.options.initDimensions.stateShortcuts.x;return a.stateAbbsShortcutDimensions[e].x=f,f+"%"}).attr("y",function(c,d){var e=a.stateAbbsFIPS[c.properties.FIPS],f=a.stateAbbsShortcutDimensions[e].index,g=b.options.initDimensions.stateShortcuts.initY+f*(b.options.initDimensions.stateShortcuts.height+(0!=f?b.options.initDimensions.stateShortcuts.padding:0));return a.stateAbbsShortcutDimensions[e].y=g,g+"%"}).attr("rx",function(c,d){
var e=a.stateAbbsFIPS[c.properties.FIPS],f=b.options.initDimensions.stateShortcuts.roundCorner*(b.options.initDimensions.stateShortcuts.width/b.options.initDimensions.stateShortcuts.height);return a.stateAbbsShortcutDimensions[e].rx=f,f+"%"}).attr("ry",function(c,d){var e=a.stateAbbsFIPS[c.properties.FIPS],f=b.options.initDimensions.stateShortcuts.roundCorner;return a.stateAbbsShortcutDimensions[e].ry=f,f+"%"}).attr("width",function(c,d){var e=a.stateAbbsFIPS[c.properties.FIPS],f=b.options.initDimensions.stateShortcuts.width;return a.stateAbbsShortcutDimensions[e].width=f,f+"%"}).attr("height",function(c,d){var e=a.stateAbbsFIPS[c.properties.FIPS],f=b.options.initDimensions.stateShortcuts.height;return a.stateAbbsShortcutDimensions[e].height=f,f+"%"}).attr("class",function(c,d){var e=a.stateAbbsFIPS[c.properties.FIPS],f=(a.statesInfo[e].fips,e+"_0");c.properties.stateAbb=e,c.properties.type="state-shortcut",b.options.data.values.hasOwnProperty(e)||(b.options.data.values[e]={});var g=b.getDataClass(e,0),h=e+" "+f+" state state-shortcut";return b.options.config.shortcuts.show?h+=""!=g?" enabled "+g:" no-data"+(b.options.functionality.noDataClick.state?"":" disabled"):h+=" is-hidden",h})};b.queue.add(c,b)},PoliticoMap.prototype.initDistricts=function(){var b=this,c=function(){b.districts.enter().append("path").attr("d",b.path).attr("class",function(c,d){var e=c.properties.FIPS,f=a.stateAbbsFIPS[e];c.properties.CONG_DIST=a.statesInfo[f].atLarge?"01":c.properties.CONG_DIST;c.properties.CONG_DIST;return c.properties.stateAbb=f,c.properties.type="district",b.options.data.values.hasOwnProperty(f)||(b.options.data.values[f]={}),b.getDistrictClass(c,d)}).style("stroke-width",b.options.css.strokeWidth.subunit/b.options.css.scale+"px")};if(b.queue.add(c,b),b.districtsAtLarge.length>0){var d=function(){b.districtsAtLarge.enter().append("path").attr("d",b.path).attr("class",function(c,d){var e=c.properties.FIPS;c.properties.CONG_DIST="01";var f=a.stateAbbsFIPS[e],g=f+"_01";c.properties.stateAbb=f,c.properties.type="district",b.options.data.values.hasOwnProperty(f)||(b.options.data.values[f]={});var h=b.getDataClass(f,"01"),i=f+" "+g+" district";return i+=""!=h?" enabled "+h:" no-data "+(b.options.functionality.noDataClick.district?"":" disabled")}).style("stroke-width",b.options.css.strokeWidth.subunit/b.options.css.scale+"px")};b.queue.add(d,b)}},PoliticoMap.prototype.initCounties=function(){var b=this,c=function(){b.counties.enter().append("path").attr("d",b.path).attr("class",function(c,d){var e=c.properties.FIPS,f="02"==e||"11"==e?a.statesInfo[a.stateAbbsFIPS[e]].name:c.properties.NAME.replace(/\s/gi,"|");"02"!=e&&"11"!=e||(e+="000",c.properties.FIPS=e);var g=e.slice(0,2),h=a.stateAbbsFIPS[g],i=h+"_"+e;c.properties.stateAbb=h,c.properties.NAME=f,c.properties.type="county",b.options.data.values.hasOwnProperty(h)||(b.options.data.values[h]={});var j=b.getDataClass(h,e),k=h+" "+i+" name_"+f+" county";return k+=""!=j?" enabled "+j:" no-data "+(b.options.functionality.noDataClick.county?"":" disabled")}).style("stroke-width",b.options.css.strokeWidth.subunit/b.options.css.scale+"px")};b.queue.add(c,b)},PoliticoMap.prototype.setStateColors=function(b){var c=this;c.options.data.values=b,c.states.attr("class",function(b,d){var e=b.properties.stateAbb,f=e+"_0",g=c.getDataClass(e,0),h=e+" "+f+" state";return""!=g&&c.options.functionality.mapClickable.state?h+=" enabled "+g:h+=" no-data"+(c.options.functionality.noDataClick.state?"":" disabled"),a.statesInfo[e].atLarge&&(h+=" at-large"),c.options.selected.stateAbb==e&&(h+=" selected"),h}),c.stateShortcuts.attr("class",function(a,b){var d=a.properties.stateAbb,e=d+"_0",f=c.getDataClass(d,0),g=d+" "+e+" state state-shortcut";return c.options.config.shortcuts.show?g+=""!=f?" enabled "+f:" no-data"+(c.options.functionality.noDataClick.state?"":" disabled"):g+=" is-hidden",g})},PoliticoMap.prototype.setDistrictColorsByState=function(a,b){var c=this;void 0!==b&&(c.options.data.values[a]=b,c.districts.length>0&&c.districts.filter(function(b,c){return b.properties.stateAbb===a}).attr("class",function(a,b){return c.getDistrictClass(a,b)}),c.districtsAtLarge.length>0&&c.districtsAtLarge.filter(function(b,c){return b.properties.stateAbb===a}).attr("class",function(a,b){return c.getDistrictClass(a,b)}))},PoliticoMap.prototype.setCountyColorsByState=function(a,b){var c=this;void 0!==b&&(c.options.data.values[a]=b,c.counties.length>0?c.counties.filter(function(b,c){return b.properties.stateAbb===a}).attr("class",function(a,b){return c.getCountyClass(a,b)}):c.states.length>0&&c.states.filter(function(b,c){return b.properties.stateAbb===a}).attr("class",function(a,b){return c.getStateClass(a,b)}))},PoliticoMap.prototype.getDataClass=function(a,b){var c,d=this,e="",f=a+"_"+b,g=a+"_default",h=!1;return d.options.data.values.hasOwnProperty(a)&&(h=d.options.data.values[a].hasOwnProperty(g),(d.options.data.values[a].hasOwnProperty(f)||h)&&(c=h?d.options.data.values[a][g]:d.options.data.values[a][f],"value"==d.options.data.type?e=c:"reference"==d.options.data.type?d.options.css.values.hasOwnProperty(c)&&(e=d.options.css.values[c]):"bucket"==d.options.data.type&&(e=d3.scale.quantize().domain(d.options.data.domain).range(d.options.css.vlues)(c)))),e},PoliticoMap.prototype.getDistrictClass=function(a,b,c){var d=c||this,e=a.properties.stateAbb,f=a.properties.CONG_DIST,g=e+"_"+f,h=d.getDataClass(e,f),i=e+" "+g+" district";return i+=""!=h&&"null"!=h?" enabled "+h:" no-data"+(""!=h?" "+h:"")+(d.options.functionality.noDataClick.district?"":" disabled")},PoliticoMap.prototype.getCountyClass=function(a,b,c){var d=c||this,e=a.properties.stateAbb,f=a.properties.FIPS,g=e+"_"+f,h=a.properties.NAME;d.options.data.values.hasOwnProperty(e)||(d.options.data.values[e]={});var i=d.getDataClass(e,f),j=e+" "+g+" name_"+h+" county";return j+=""!=i?" enabled "+i:" no-data "+(d.options.functionality.noDataClick.county?"":" disabled")},PoliticoMap.prototype.getStateClass=function(b,c,d){var e=d||this,f=b.properties.stateAbb,g=(b.properties.FIPS,f+"_0");e.options.data.values.hasOwnProperty(f)||(e.options.data.values[f]={});var h=e.getDataClass(f,0),i=f+" "+g+" state";return i+=""!=h?" enabled "+h:" no-data"+(e.options.functionality.noDataClick.state?"":" disabled"),a.statesInfo[f].atLarge&&(i+=" at-large"),e.options.selected.stateAbb==f&&(i+=" selected"),i},PoliticoMap.prototype.doMouseOut=function(b,c){var d,e=this,f=1;if(void 0!==c&&!b.classed("ROOT")&&(d=b.classed("state")?"state":c.properties.type,f="state"==d?b.classed("selected")?e.options.css.strokeWidth.selectedState:e.options.css.strokeWidth.state:"state-shortcut"==d?b.classed("selected")?e.options.css.strokeWidth.selectedState:e.options.css.strokeWidth.stateShortcut:b.classed("clicked")?e.options.css.strokeWidth.clickedSubunit:e.options.css.strokeWidth.subunit,b.classed("hover",!1).style("stroke-width",f/e.options.css.scale+"px"),a.canResizeSVG)){var g=d3.select(e.options.elems.map).select("svg");g.select(".selected").toFront(),g.select(".clicked").toFront()}},PoliticoMap.prototype.setStyle=function(a,b,c){var d=this;void 0===c&&(c=!0);var e=d3.select(d.options.elems.map).select("svg"),f=e.selectAll("."+a).classed(b,c);d.doMouseOut(f,f.datum())},PoliticoMap.prototype.showPopup=function(a){this.options.popup.show(a)},PoliticoMap.prototype.hidePopup=function(a){var b=this;b.options.popup.hide&&b.options.popup.hide(a)},PoliticoMap.prototype.movePopup=function(){this.options.popup.movePopup()},PoliticoMap.prototype.hideLabels=function(){var a=this;d3.select(a.options.elems.map).select("svg").selectAll(".labels").classed("is-hidden",!0)},PoliticoMap.prototype.show=function(){var a=this,b=d3.select(a.options.elems.map);b.select(function(){return this.parentNode}).classed("has-spinner",!1),b.classed("is-hidden",!1)},PoliticoMap.prototype.tasksComplete=function(){},PoliticoMap.prototype.queueComplete=function(){},PoliticoMap.prototype.queue={_timer:null,_queue:[],add:function(a,c,d,f){var g=this;if(void 0!==a)return f?g._queue.unshift([a,c,d]):g._queue.push([a,c,d]),void(1==g._queue.length&&function(a){g._timer=d3.timer(function(){if(a=g.add(),0==g._queue.length)return!0},a||2)}(d));var h=g._queue.shift();return h?(h[0].call(h[1]||e),h[2]):(b.maps[0].queueComplete(),0)},clear:function(){clearTimeout(_._timer),_._queue=[]}}}(PoliticoMap=window.PoliticoMap||{},PoliticoMapsManager=window.PoliticoMapsManager||{},PoliticoMapPopup=window.PoliticoMapPopup||{},jQuery,window,document),function(a){"use strict";var b={};a.fn.PoliticoMap=function(c){var d=this,e=d.length,f=0;for(f;f<e;f++)void 0===a(d[f]).attr("politico-map")?d[f]=a(d[f]).attr("politico-map",new PoliticoMap(c,d[f]).instanceNum):d[f]=(new PoliticoMapsManager).get(a(d[f]).attr("politico-map"));return a.extend(d,b),d}}(jQuery);